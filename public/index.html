<!DOCTYPE html>
<html>
<head>
    <meta name="google-signin-client_id" content="1045912784861-pq08ad3cuglsfta2cea54ffurpmihpr9.apps.googleusercontent.com">
    <link rel="stylesheet" href="/font-awesome-4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/proxima-nova.css">
    <link rel="stylesheet" href="/style.css">
    <script type="text/javascript" src="//connect.facebook.net/en_US/sdk.js" defer async></script>
    <script type="text/javascript" src="https://apis.google.com/js/platform.js" defer async></script>
    <script type="text/javascript" src="/marked.js"></script>
    <script type="text/javascript" src="/mustache.js"></script>
    <script type="text/javascript" src="/declare.js"></script>
    <script type="text/javascript" src="/countries.js"></script>
    <script type="text/javascript" src="/main.js"></script>
    <script type="text/javascript" src="/player.js"></script>
    <script type="text/javascript" src="/controls.js"></script>
</head>
<body>

<header>
    <div class="g-signin2 hide"></div>
    <div class="scrub" action="scrub">
        <div class="progress" role="scrub-progress"></div>
    </div>
    <div class="page width center player flex">
        <div class="push-children-right"
                id="navigation"
                template="navigation">
        </div>
        <div class="flex-strong"></div>
        <div class="controls push-children-right">
            <a href="#" class="silent" role="track-title"></a>
            <button class="faux" action="toggleShuffle" role="mode">
                <i class="fa fa-random"></i>
            </button>
            <button class="faux" action="previous" role="previous">
                <i class="fa fa-step-backward"></i>
            </button>
            <button class="faux" action="togglePlay">
                <i class="fa fa-play" role="play"></i>
            </button>
            <button class="faux" action="next" role="next">
                <i class="fa fa-step-forward"></i>
            </button>
            <button class="faux" action="toggleRepeat">
                <i class="fa fa-repeat"></i>
            </button>
        </div>
    </div>
</header>

<section role="content">
    <div class="page center width">
        Loading kitty bits... 
        <i class="fa fa-fw fa-spin fa-gear"></i>
    </div>
</section>

<div class="toasts">
    <div role="toasts">
    </div>
</div>

<div role="modals" class="modal-layer"></div>

<script type="text/template" template-name="subscription-required-modal">
    <div class="modal">
        <h1>Sign Up!</h1>
        <p>You need a subscription to do that!</p>
        <a href="/sign-up">Sign Up Here</a> or 
        <a href="/services">Update Your Subscription</a>
        <br/>
        <button action="closeModal">Close</button>
    </div>
</script>

<script type="text/template" template-name="navigation">
    <a class="silent" href="/"><i class="fa fa-hand-peace-o fa-flip-horizontal"></i></a>
    <a class="silent" href="/music"><i class="fa fa-headphones"></i></a>
    {{#data}}
    {{#user}}
    <a class="silent" href="/playlists"><i class="fa fa-bars"></i></a>
    <a class="silent" href="/account"><i class="fa fa-gear"></i></a>
    {{/user}}
    {{^user}}
    <a class="silent" href="/signin">Sign In</a>
    {{/user}}
    {{/data}}
</script>

<script type="text/template"
        template-name="track-copycredits-modal"
        transform="loadReleaseAndTrack">
    <div class="modal">
        {{#loading}}
        ...
        {{/loading}}
        {{#err}}
        <p>Error: {{message}}</p>
        {{/err}}
        {{#data}}
        <textarea class="copycredits">{{track.copycredit}}</textarea>
        <button action="closeModal">
            <i class="fa fa-remove"></i>
        </button>
        {{/data}}
    </div>
</script>

<script type="text/template"
        route="^signin">
    <div class="page width center">
        <table class="form" data-set="credentials">
            <tbody>
                <tr>
                    <th>Email</th>
                    <td>
                        <input
                            type="text"
                            name="email"
                            placeholder="kitty@monstercat.com"/>
                    </td>
                </tr>
                <tr>
                    <th>Password</th>
                    <td>
                        <input
                            type="password"
                            name="password"
                            placeholder="a secret"/>
                        <button
                            class="faux"
                            action="togglePassword"
                            toggle-target="password">
                            <i class="fa fa-eye-slash"></i>
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
        <button action="signIn" data-set-target="credentials">Sign In</button>
        <button action="signInFacebook">Sign In With Facebook</button>
        <button action="signInGoogle">Sign In With Google</button>
        <br/>
        <br/>
        <a href="/forgot-password">Forgot your password?</a>
        <br/>
        <a href="/sign-up">Don't have an account? Sign up!</a>
    </div>
</script>

<script type="text/template"
        route="^forgot-password">
    <div class="page width center">
        <table class="form" data-set="credentials">
            <tbody>
                <tr>
                    <th>Email</th>
                    <td>
                        <input
                            type="text"
                            name="email"
                            placeholder="kitty@monstercat.com"/>
                    </td>
                </tr>
            </tbody>
        </table>
        <button action="recoverPassword" data-set-target="credentials">Send Reset Link</button>
    </div>
</script>

<script type="text/template"
        route="^reset-password">
    <div class="page width center">
        <table class="form" data-set="password">
            <tbody>
                <tr>
                    <th>Password</th>
                    <td>
                        <input
                            type="password"
                            name="password"
                            placeholder="New Password"/>
                        <button
                            class="faux"
                            action="togglePassword"
                            toggle-target="password">
                            <i class="fa fa-eye-slash"></i>
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
        <button
            action="updatePassword"
            data-set-target="password">
            Update Password
        </button>
    </div>
</script>

<script type="text/template"
        route="^sign-up"
        transform="mapSignup">
    <div class="page width center">
        <table class="form" data-set="credentials">
            <tbody>
                <tr>
                    <th>Email</th>
                    <td>
                        <input type="text"
                               name="email"
                               placeholder="kitty@monstercat.com"/>
                    </td>
                </tr>
                <tr>
                    <th>Password</th>
                    <td>
                        <input type="text"
                               name="password"
                               placeholder="a secret"/>
                        <button
                            class="faux"
                            action="togglePassword"
                            toggle-target="password">
                            <i class="fa fa-eye-slash"></i>
                        </button>
                    </td>
                </tr>
                <tr>
                    <th>Country</th>
                    <td>
                        <select name="location">
                            <option disabled selected>Select One</option>
                            {{#countries}}
                            <option value="{{name}}">
                                {{name}}
                            </option>
                            {{/countries}}
                        </select>
                    </td>
                </tr>
            </tbody>
        </table>
        <button action="signUp" data-set-target="credentials">Sign Up</button>
    </div>
</script>

<script type="text/template"
        route="^account"
        source="$endpoint/self"
        transform="mapAccount">
    <div class="page width center">
        <h1>My Account</h1>
        {{#loading}}
        <i class="fa fa-fw fa-refresh fa-spin"></i>
        {{/loading}}
        {{#error}}
        <p>{{message}}</p>
        {{/error}}
        {{#data}}
        <table class="form">
            <tbody data-set="account">
                <tr>
                    <th>Email</th>
                    <td>{{email}}</td>
                </tr>
                <tr>
                    <th>Full Name</th>
                    <td><input type="text"
                                name="realName"
                                value="{{realName}}"
                                initial-value="{{realName}}" />
                    </td>
                </tr>
                <tr>
                    <th>Nickname</th>
                    <td><input type="text"
                                name="name"
                                initial-value="{{name}}"
                                value="{{name}}" />
                    </td>
                </tr>
                <tr>
                    <th>Country</th>
                    <td>
                        <select name="location"
                                initial-value="{{location}}">
                            <option disabled>Select One</option>
                            {{#countries}}
                            <option
                                value="{{name}}"
                                {{#selected}}selected{{/selected}}>
                                {{name}}
                            </option>
                            {{/countries}}
                        </select>
                    </td>
                </tr>
                <tr>
                    <th>Change Password</th>
                    <td>
                        <input type="password"
                               name="password"
                               placeholder="New Password">
                        <button
                            class="faux"
                            action="togglePassword"
                            toggle-target="password">
                            <i class="fa fa-eye-slash"></i>
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
        <button action="saveAccount"
                data-set-target="account">
            Save
        </button>
        <button action="signOut">Sign Out</button>
        <br/>
        <br/>
        <h2>Settings</h2>
        <div source="$endpoint/self/settings"
             template="account-settings">
        </div>
        <br/>
        <br/>
        <hr/>
        <br/>
        <a href="/services">Manage Services</a>
        <br/>
        <a href="/billing">View Billing History</a>
        <br/>
        <a href="/faqs">FAQs</a>
        <br/>
        <a href="/terms-of-service">Terms of Service</a>
        <br/>
        <a href="/privacy-policy">Privacy Policy</a>
        {{/data}}
    </div>
</script>

<script type="text/template"
        template-name="account-settings"
        transform="transformAccountSettings">
    {{#loading}}
    <i class="fa fa-fw fa-spin fa-refresh"></i>
    {{/loading}}
    {{#error}}
    <p>{{message}}</p>
    {{/error}}
    {{#data}}
    <table class="form">
        <tbody data-set="settings">
            <tr>
                <th>Prefered Download Format</th>
                <td>
                    <select name="preferredDownloadFormat"
                            initial-value="{{preferredDownloadFormat}}">
                        {{#downloadOptions}}
                        <option value="{{value}}"
                                {{#selected}}selected{{/selected}}>
                            {{name}}
                        </option>
                        {{/downloadOptions}}
                    </select>
                    <span class="note">
                    See more about MP3 quality
                    <a href="http://wiki.hydrogenaud.io/index.php?title=LAME#Recommended_encoder_settings"
                       target="_blank">here</a>.
                    </span>
                </td>
            </tr>
            <tr>
                <th colspan="2">
                    <label>
                        <input type="checkbox"
                               name="hideNonLicensableTracks"
                               initial-value="{{hideNonLicensableTracks}}"
                            {{#hideNonLicensableTracks}}checked{{/hideNonLicensableTracks}}/>
                        Skip Non-licensable Tracks
                    </label>
                </th>
            </tr>
            <tr>
                <th colspan="2">
                    <label>
                        <input type="checkbox"
                               name="playlistPublicByDefault"
                               initial-value="{{playlistPublicByDefault}}"
                            {{#playlistPublicByDefault}}checked{{/playlistPublicByDefault}}/>
                        Make Playlists Public By Default
                    </label>
                </th>
            </tr>
        </tbody>
    </table>
    <div source="$endpoint/self/social-signins"
         template="social-settings">
    </div>
    <br/>
    <button action="saveAccountSettings"
            data-set-target="settings">
        Update Settings
    </button>
    {{/data}}
</script>

<script type="text/template"
        template-name="social-settings"
        transform="transformSocialSettings">
    {{#data}}
    {{#facebookEnabled}}
    <button disabled>
        Facebook enabled
    </button>
    {{/facebookEnabled}}
    {{^facebookEnabled}}
    <button action="enableFacebookSignin">
        Enable Facebook signin
    </button>
    {{/facebookEnabled}}

    {{#googleEnabled}}
    <button disabled>
        Google Login enabled
    </button>
    {{/googleEnabled}}
    {{^googleEnabled}}
    <button action="enableGoogleSignin">
        Enable Google signin
    </button>
    {{/googleEnabled}}
    {{/data}}
</script>

<script type="text/template"
        route="^services$">
    <div class="page width center">
        <h1>Manage Services</h1>
        <h2>Gold Access</h2>
        <br/>
        <p>Monstercat Gold Membership allows you to download any of the music in FLAC, MP3, and WAV formats.</p>
        <br/>
        <label>
            <input type="checkbox" name="gold-access" checked>
            Subscribe for $5.00/month
        </label>
        <br/>
        <br/>
        <h2>Licensing Services</h2>
        <br/>
        <p>Buy a whitelisting service for use in online media for YouTube, Twitch, or Beam Pro. You can also buy a subscription and pay monthly until you pay it off.</p>
        <br/>
        <table>
            <thead>
                <tr>
                    <th>Vendor</th>
                    <th>Identity</th>
                    <th>Paid Off</th>
                    <th>Remaining</th>
                    <th>Monthly Cost</th>
                    <th>Active</th>
                    <th>License</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr data-set="y">
                    <td>
                        <input type="hidden" name="vendor" value="YouTube"/>
                        YouTube
                    </td>
                    <td>
                        <input type="hidden" name="identity" value="Sample"/>
                        Sample
                    </td>
                    <td>$20.00</td>
                    <td>$180.00</td>
                    <td>$5.00</td>
                    <td>
                        <input type="checkbox" checked/>
                    </td>
                    <td>
                        <a href="#">View</a>
                    </td>
                    <td>
                        <button action="buyOutLicense"
                                data-set-target="y">Buy Out</button>
                    </td>
                </tr>
                <tr>
                    <td>YouTube</td>
                    <td>Banana X</td>
                    <td>$200.00</td>
                    <td>$0.00</td>
                    <td>$0.00</td>
                    <td>
                        <i class="fa fa-check-circle-o">
                    </td>
                    <td><a href="#">View</a></td>
                    <td></td>
                </tr>
                <tr data-set="x">
                    <td>
                        <input type="hidden" name="vendor" value="Twitch"/>
                        Twitch
                    </td>
                    <td>
                        <input type="hidden" name="identity" value="ZZZ"/>
                        ZZZ
                    </td>
                    <td>$20.00</td>
                    <td>$180.00</td>
                    <td>$5.00</td>
                    <td>
                        <input type="checkbox"/>
                    </td>
                    <td></td>
                    <td>
                        <button action="buyOutLicense"
                                data-set-target="x">Buy Out</button>
                    </td>
                </tr>
            </tbody>
        </table>
        <div data-set="new-license">
            <select name="vendor">
                <option value="">Select Vendor</option>
                <option value="YouTube">YouTube</option>
                <option value="Twitch">Twitch</option>
                <option value="Beam Pro">Beam Pro</option>
            </select>
            <input type="text" name="identity" placeholder="Identity"/>
            <button
                action="addLicenseSubscription"
                data-set-target="new-license">
                Add
            </button>
            <button
                action="buyOutLicense"
                data-set-target="new-license">
                Buy Out
            </button>
        </div>
        <br/>
        <br/>
        <hr/>
        <br/>
        <label>
            Total: 
            <span>$10.00</span> USD per Month
        </label>
        <br/>
        <br/>
        <label>
            <input type="radio" name="method" value="paypal">
            <i class="fa fa-fw fa-cc-paypal"></i>
        </label>
        <label>
            <input type="radio" name="method" value="stripe">
            <i class="fa fa-fw fa-cc-stripe"></i>
        </label>
        <button>Update Payments</button>
        <br/>
        <br/>
        <a href="/billing">View Billing History</a>
    </div>
</script>

<script type="text/template" route="^buy-license" transform="transformBuyOut">
    <div class="page center width">
        <h1>Purchase Whitelist License</h1>
        <p>Buy purchasing a license you will be whitelisted on the desired service under by the identity chosen.</p>
        <table class="form">
            <tbody>
                <tr>
                    <th>Vendor</th>
                    <td>{{vendor}}</td>
                </tr>
                <tr>
                    <th>Identity</th>
                    <td>{{identity}}</td>
                </tr>
                <tr>
                    <th>Total Cost</th>
                    <td>$--.--</td>
                </tr>
            </tbody>
        </table>
        <button>Purchase License</button>
    </div>
</script>

<script type="text/template" route="^billing$">
    <div class="page width center">
        <h1>Billing History</h1>
        <table>
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Amount</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr><td colspan="3">No history.</td></tr>
            </tbody>
        </table>
    </div>
</script>

<script type="text/template" route="^$">
    <div class="page width center">
        <h1>Nothing here.</h1>
        <p>Welcome home.</p>
    </div>
</script>

<script type="text/template"
        route="^music(\?.*)?"
        transform="transformMusic">
    {{#data}}
    <div class="page width center">
        <div class="filters pad-vertical push-children-right" data-set="music-search">
            <input class="round"
                    name="search"
                    type="text"
                    placeholder="Search..."
                    value="{{search}}"/>
            <button action="hitSelect" class="select">
                <select name="type">
                    <option value="">Show All Types</option>
                    {{#types}}
                    <option value="{{value}}" {{#selected}}selected{{/selected}}>
                        {{name}}
                    </option>
                    {{/types}}
                </select>
            </button>
            <button action="searchMusic" data-set-target="music-search">
                <i class="fa fa-search"></i>
            </button>
        </div>
    </div>
    <div source="$endpoint/catalog/release?{{query}}"
            template="music-releases">
    </div>
    {{/data}}
</script>

<script type="text/template"
        template-name="music-releases"
        transform="transformMusicReleases">
    {{#loading}}
    <div class="page width center">
        <i class="fa fa-fw fa-spin fa-refresh"></i>
    </div>
    {{/loading}}
    {{#error}}
    <div class="page width center">
        <p>{{message}}</p>
    </div>
    {{/error}}
    {{#data}}
    <ul class="page width center art-list">
        {{#results}}
        <li>
            <a href="/release/{{_id}}">
                <img src="{{cover}}"/>
                <label class="title">{{title}}</label>
                <br/>
                <label>{{releaseDate}}</label>
            </a>
        </li>
        {{/results}}
    </ul>
    <div class="page width center pagination pad-vertical text center">
        <a href="?{{previous}}">Previous</a>
        <label>{{skip}} - {{count}} of {{total}}</label>
        <a href="?{{next}}">Next</a>
    </div>
    {{/data}}
</script>

<script type="text/template"
        route="^release\/(.*)"
        source="$endpoint/catalog/release/$1"
        transform="mapRelease"
        completed="completedRelease">
    <div class="release page width center">
        {{#loading}}
        <i class="fa fa-spin fa-refresh"></i>
        {{/loading}}
        {{#error}}
        <p>{{message}}</p>
        {{/error}}
        {{#data}}
        <div class="bgbox" style="background-image: url('{{coverBig}}')">
            <div class="bgbox-blanket cl-white">
                <img class="artwork" src="{{cover}}"/>
                <h1 class="cancel-margin-bottom" release-id="{{_id}}">{{title}}</h1>
                <h2>{{artists}}</h2>
                <label>Released {{releaseDate}}</label>
                <div class="options push-children-right">
                    <a class="silent"
                    href="{{downloadLink}}"
                    target="_blank"
                    action="canAccessGold">
                        <i class="fa fa-cloud-download"></i>
                    </a>
                    <button class="faux"
                            action="playSongs"
                            role="play-release"
                            release-id="{{_id}}">
                        <i class="fa fa-play inactive"></i>
                        <i class="fa fa-pause active"></i>
                    </button>
                </div>
            </div>
        </div>
        <div
            source="$endpoint/catalog/release/{{_id}}/tracks"
            template="release-tracks">
        </div>
        {{/data}}
    </div>
</script>

<script type="text/template"
        template-name="release-tracks"
        transform="transformReleaseTracks"
        completed="updateControls">
    <table>
        <thead>
            <tr>
                <th class="shrink">#</th>
                <th class="shrink nohpad"></th>
                <th>Title</th>
                <th>Artists</th>
                <th>Genre</th>
                <th>BPM</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            {{#loading}}
            <tr><td colspan="5"><i class="fa fa-spin fa-refresh"></i></td></tr>
            {{/loading}}
            {{#error}}
            <tr><td colspan="5"><p>{{message}}</p></td></tr>
            {{/error}}
            {{#data}}
            {{#results}}
            <tr>
                <td class="shrink">{{trackNumber}}.</td>
                <td class="shrink nohpad">
                    <button
                        class="faux"
                        action="playSong"
                        role="play-song"
                        play-link="{{playUrl}}"
                        title="{{title}}"
                        index="{{index}}"
                        release-id="{{releaseId}}">
                       <i class="fa fa-play-circle inactive"></i>
                       <i class="fa fa-pause-circle active"></i>
                    </button>
                </td>
                <td>{{title}}</td>
                <td>
                    {{#artists}}
                    <a href="/artist/{{_id}}">{{name}}</a>
                    {{/artists}}
                </td>
                <td>{{genre}}</td>
                <td>{{bpm}}</td>
                <td class="push-children-right">
                    <a class="silent"
                       target="_blank"
                       action="canAccessGold"
                       href="{{downloadLink}}">
                        <i class="fa fa-cloud-download"></i>
                    </a>
                    <button
                        class="faux"
                        action="openTrackCopyCredits"
                        release-id="{{releaseId}}"
                        track-id="{{_id}}">
                        <i class="fa fa-copyright"></i>
                    </button>
                    {{#canPlaylist}}
                    <select
                        onchange="addToPlaylist(null, this)"
                        source="$endpoint/playlist"
                        template="select-playlist"
                        track-id="{{_id}}">
                    </select>
                    {{/canPlaylist}}
                </td>
            </tr>
            {{/results}}
            {{/data}}
        </tbody>
    </table>
</script>

<script type="text/template"
        route="^artist\/(.*)"
        source="$endpoint/catalog/artist/$1?fields=name,websiteDetailsId">
    <div class="page center width">
        {{#data}}
        <h1>{{name}}</h1>
        {{#websiteDetailsId}}
        <div source="$endpoint/website/{{websiteDetailsId}}"
             template="user-details"></div>
        {{/websiteDetailsId}}
        {{^websiteDetailsId}}
        <h2>About</h2>
        <p>There are no details.</p>
        {{/websiteDetailsId}}
        <br/>
        <br/>
        <h2>Discography</h2>
        <br/>
        <div source="$endpoint/catalog/artist/{{_id}}/releases"
             template="user-releases">
        </div>
        {{/data}}
    </div>
</script>

<script type="text/template"
        template-name="user-releases"
        transform="transformReleases">
    {{#loading}}
    <i class="fa fa-fw fa-spin fa-refresh"></i>
    {{/loading}}
    {{#error}}
    <p>{{message}}</p>
    {{/error}}
    {{#data}}
    <ul>
        {{#results}}
        <li>
            <a href="/release/{{_id}}">
                <img src="{{cover}}">
            </a>
        </li>
        {{/results}}
    </ul>
    {{/data}}
</script>

<script type="text/template"
        template-name="user-details"
        transform="mapWebsiteDetails">
    {{#loading}}
    <i class="fa fa-fw fa-spin fa-refresh"></i>
    {{/loading}}
    {{#error}}
    <p>{{message}}</p>
    {{/error}}
    {{#data}}
    {{#image}}
    <img src="{{image}}"/>
    {{/image}}
    {{#about}}
    <h2>About</h2>
    <p>{{about}}</p>
    {{/about}}
    {{#contact}}
    <h3>Booking & Managment</h3>
    <p>{{booking}}</p>
    <p>{{management}}</p>
    {{/contact}}
    {{#urls}}
    <a href="{{.}}">{{.}}</a><br/>
    {{/urls}}
    {{/data}}
</script>

<script type="text/template">
    {{#loading}}
    <li><i class="fa fa-fw fa-spin fa-refresh"></li>
    {{/loading}}
    {{#error}}
    <li>{{message}}</li>
    {{/error}}
    {{#data}}
    {{#results}}
    <li>
        <img src="{{cover}}"/>
        <label>{{title}}</label>
    </li>
    {{/results}}
    {{/data}}
</script>

<script type="text/template"
        template-name="select-playlist">
    {{#loading}}
    <option disabled checked>Loading...</option>
    {{/loading}}
    {{#error}}
    {{/error}}
    {{#data}}
    <option value="" checked>Add to Playlist</option>
    {{#results}}
    <option value="{{_id}}">{{name}}</option>
    {{/results}}
    {{/data}}
</script>

<script type="text/template"
        route="^playlists">
    <div class="page width center">
        <h1>My Playlists</h1>
        <button action="createPlaylist">
            Create Playlist
        </button>
        <table>
            <thead>
                <tr>
                    <th>Name</th>
                    <th></th>
                </tr>
            </thead>
            <tbody
                source="$endpoint/playlist?fields=name,public"
                template="playlists">
            </tbody>
        </table>
    </div>
</script>

<script type="text/template"
        template-name="playlists">
    {{#loading}}
    <tr><td colspan="2"><i class="fa fa-fw fa-refresh fa-spin"></i></td></tr>
    {{/loading}}
    {{#error}}
    <tr><td colspan="2">{{message}}</td></tr>
    {{/error}}
    {{#data}}
    {{#results}}
    <tr>
        <td><a href="/playlist/{{_id}}">{{name}}</a></td>
        <td class="push-children-right">
            <button class="faux"
                    action="renamePlaylist"
                    playlist-id="{{_id}}">
                <i class="fa fa-pencil"></i>
            </button>
            <button class="faux"
                    action="destroyPlaylist"
                    playlist-id="{{_id}}">
                <i class="fa fa-trash-o"></i>
            </button>
        </td>
    </tr>
    {{/results}}
    {{^results}}
    <tr><td colspan="2">No Results.</td></tr>
    {{/results}}
    {{/data}}
</script>

<script type="text/template"
        route="^playlist\/(.*)"
        source="$endpoint/playlist/$1?fields=name,public,tracks,userId"
        transform="transformPlaylist">
    <div class="page width center">
        {{#loading}}
        <i class="fa fa-fw fa-spin fa-refresh"></i>
        {{/loading}}
        {{#error}}
        <p>{{message}}</p>
        {{/error}}
        {{#data}}
        <h1 playlist-id="{{_id}}">{{name}}</h1>
        <div class="options pad-vertical push-children-right">
            {{#canPublic}}
            <label>
                <input
                    type="checkbox"
                    action="togglePlaylistPublic"
                    playlist-id="{{_id}}"
                    {{#public}}checked{{/public}} />
                Public
            </label>
            {{/canPublic}}
            <button action="reorderPlaylistFromInputs"><i class="fa fa-fw fa-save" role="save-playlist-order"></i> Save Order</button>
            {{#canDownload}}
            <button class="faux"
                    title="Download Playlist"
                    action="downloadPlaylist">
                <i class="fa fa-fw fa-cloud-download"></i>
            </button>
            {{/canDownload}}
            <button class="faux">
                <i class="fa fa-fw fa-play"
                   action="playSongs"
                   role="play-playlist"></i>
            </button>
        </div>
        <table class="drag-sortable">
            <thead>
                <tr>
                    <th>#</th>
                    <th class="shrink nohpad"></th>
                    <th>Title</th>
                    <th>Release</th>
                    <th>Artist</th>
                    <th>Genre</th>
                    <th>BPM</th>
                    <th></th>
                </tr>
            </thead>
            <tbody role="playlist-tracks" source="$endpoint/playlist/{{_id}}/tracks"
                   template="playlist-tracks">
            </tbody>
        </table>
        {{/data}}
    </div>
</script>

<script type="text/template"
        template-name="playlist-tracks"
        transform="transformPlaylistTracks"
        completed="updateControls">
    {{#loading}}
    <tr><td colspan="6"><i class="fa fa-fw fa-spin fa-refresh"></i></td></tr>
    {{/loading}}
    {{#error}}
    <tr><td colspan="6">{{message}}</td></tr>
    {{/error}}
    {{#data}}
    {{#results}}
    <tr role="playlist-track"
        track-id="{{_id}}"
        release-id="{{releaseId}}"
        {{#edit}}
        draggable="true"
        ondrop="playlistDrop(event)"
        ondragover="playlistAllowDrop(event)"
        ondragleave="playlistDragLeave(event)"
        ondragstart="playlistDragStart(event, '{{_id}}', '{{releaseId}}')"
        {{/edit}}>
        <td>
            {{#edit}}
            <input  type="text"
                    onfocus="playlistTrackOrderFocus(event, this)"
                    onblur="playlistTrackOrderBlur(event, this)"
                    track-id="{{_id}}"
                    release-id="{{releaseId}}"
                    track-title="{{title}}"
                    name="trackOrder[]"
                    value="{{trackNumber}}" size="2" />
            {{/edit}}
            {{#noEdit}}
            {{trackNumber}}.
            {{/noEdit}}
        </td>
        <td class="shrink nohpad">
            <button class="faux"
                    action="playSong"
                    role="play-song"
                    play-link="{{playUrl}}"
                    title="{{title}}"
                    index="{{index}}"
                    playlist-id="{{playlistId}}">
                <i class="fa fa-play-circle inactive"></i>
                <i class="fa fa-pause-circle active"></i>
            </button>
        </td>
        <td>{{title}}</td>
        <td><a href="/release/{{releaseId}}">{{release}}</a></td>
        <td>
            {{#artists}}
            <a href="/artist/{{_id}}">{{name}}</a>
            {{/artists}}
        </td>
        <td>{{genre}}</td>
        <td>{{bpm}}</td>
        <td class="push-children-right">
            <a class="silent"
               href="{{downloadLink}}"
               target="_blank"
               title="Download Track"
               action="canAccessGold">
                <i class="fa fa-cloud-download"></i>
            </a>
            <button class="faux"
                    action="openTrackCopyCredits"
                    release-id="{{releaseId}}"
                    track-id="{{_id}}">
                <i class="fa fa-copyright"></i>
            </button>
            {{#edit}}
            <button class="faux"
                    action="removeFromPlaylist"
                    playlist-position="{{index}}">
                <i class="fa fa-trash-o"></i>
            </button>
            {{/edit}}
        </td>
    </tr>
    {{/results}}
    {{^results}}
    <tr>
        <td colspan="6">No Results.</td>
    </tr>
    {{/results}}
    {{/data}}
</script>

<script type="text/template" template-name="404">
    <div class="page width center">
        <h1>Page Not Found</h1>
        <p>The page you are looking for is not here.</p>
    </div>
</script>

<script type="text/template"
        route="^faqs\/?$"
        transform="transformMarkdown"
        source="https://raw.githubusercontent.com/monstercat/docs/master/connect/FAQ/README.md">
    <div class="page width center">
        {{#loading}}
        <i class="fa fa-fw fa-spin fa-refresh"></i>
        {{/loading}}
        {{#error}}
        <p>{{message}}</p>
        {{/error}}
        {{#data}}
        {{{data}}}
        {{/data}}
    </div>
</script>

<script type="text/template"
        route="^privacy-policy\/?$"
        transform="transformMarkdown"
        source="https://raw.githubusercontent.com/monstercat/docs/master/connect/Privacy%20Policy.md">
    <div class="page width center">
        {{#loading}}
        <i class="fa fa-fw fa-spin fa-refresh"></i>
        {{/loading}}
        {{#error}}
        <p>{{message}}</p>
        {{/error}}
        {{#data}}
        {{{data}}}
        {{/data}}
    </div>
</script>

<script type="text/template"
        route="^terms-of-service\/?$"
        transform="transformMarkdown"
        source="https://raw.githubusercontent.com/monstercat/docs/master/connect/Terms%20of%20Service.md">
    <div class="page width center">
        {{#loading}}
        <i class="fa fa-fw fa-spin fa-refresh"></i>
        {{/loading}}
        {{#error}}
        <p>{{message}}</p>
        {{/error}}
        {{#data}}
        {{{data}}}
        {{/data}}
    </div>
</script>

<script type="text/template" template-name="toast">
    <div class="toast{{#error}} error{{/error}}" >
        <p>{{message}}</p>
    </div>
</script>

</body>
</html>
